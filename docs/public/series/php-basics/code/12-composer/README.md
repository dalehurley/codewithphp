# Chapter 12: Dependency Management with Composer - Code Examples

Complete Composer project structure demonstrating modern PHP dependency management.

## Directory Structure

```
example-project/
├── composer.json         # Project configuration
├── public/
│   └── index.php        # Application entry point
├── src/
│   ├── User.php         # Example class (PSR-4 autoloaded)
│   └── helpers.php      # Global helper functions
└── vendor/              # Generated by Composer (gitignored)
```

## Quick Start

```bash
cd example-project

# Install dependencies
composer install

# Update dependencies
composer update

# Run the application
composer serve
# or
php -S localhost:8000 -t public

# Run tests
composer test
```

## Key Commands

```bash
# Initialize new project
composer init

# Add dependency
composer require vendor/package

# Add dev dependency
composer require --dev phpunit/phpunit

# Remove dependency
composer remove vendor/package

# Regenerate autoloader
composer dump-autoload

# Update single package
composer update vendor/package

# Show installed packages
composer show

# Validate composer.json
composer validate

# Search for packages
composer search keyword
```

## composer.json Sections

**require**: Production dependencies
**require-dev**: Development dependencies (testing, etc.)
**autoload**: PSR-4 autoloading configuration
**scripts**: Custom commands

## PSR-4 Autoloading

Maps namespaces to directories:

```json
{
  "autoload": {
    "psr-4": {
      "App\\": "src/"
    }
  }
}
```

**Result**: `App\User` class → `src/User.php`

## Global Functions

Load helper files automatically:

```json
{
  "autoload": {
    "files": ["src/helpers.php"]
  }
}
```

## Popular Packages

- **monolog/monolog** - Logging
- **guzzlehttp/guzzle** - HTTP client
- **vlucas/phpdotenv** - Environment variables
- **symfony/var-dumper** - Better var_dump
- **phpunit/phpunit** - Testing framework
- **phpstan/phpstan** - Static analysis

## Best Practices

✓ Always commit `composer.json` and `composer.lock`
✓ **Never** commit `vendor/` directory
✓ Use `composer.lock` for reproducible builds
✓ Run `composer install` in production (not update)
✓ Use semantic versioning constraints
✓ Keep dependencies up to date

## Related Chapter

[Chapter 12: Dependency Management with Composer](../../chapters/12-dependency-management-with-composer.md)

## Further Reading

- [Composer Documentation](https://getcomposer.org/doc/)
- [Packagist.org](https://packagist.org/) - Package repository
- [PSR-4 Specification](https://www.php-fig.org/psr/psr-4/)
